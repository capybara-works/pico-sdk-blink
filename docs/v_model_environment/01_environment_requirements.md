# 環境要件定義書 (Environment Requirements Definition)

## 1. はじめに
本ドキュメントは、「pico-sdk-blink」プロジェクトにおける開発・検証環境（AI駆動型CI/CD環境）の要件を定義するものである。

## 2. 環境の目的
### 2.1 背景
*   組み込み開発における「環境構築の難易度」と「ハードウェア依存」を排除する。
*   AIアシスタント（Vibe Coding）が自律的にコードの修正・ビルド・検証を行える基盤を提供する。

### 2.2 目標
*   **再現性**: どの開発者のPCでも、CIサーバー上でも、全く同じビルド結果とテスト結果が得られること。
*   **仮想化**: 物理的なボード（Raspberry Pi Pico）が手元になくても、開発と動作確認が完結すること。
*   **自動化**: コードの変更が即座に検証され、品質が可視化されること。

## 3. 機能要件
### 3.1 開発環境構築機能
*   **REQ-E-001**: Dockerコンテナ技術を用い、OS、コンパイラ、ツールチェーンが一括でセットアップされること。
*   **REQ-E-002**: VS Code の Dev Containers 機能に対応し、ワンクリックで開発環境が起動すること。

### 3.2 ビルド機能
*   **REQ-E-003**: ARM GCC ツールチェーンを用いて、RP2040向けのバイナリ（.elf, .uf2）を生成できること。
*   **REQ-E-004**: CMake をビルドシステムとして採用し、構成管理を行うこと。

### 3.3 シミュレーション機能
*   **REQ-E-005**: Wokwi シミュレータと連携し、生成されたファームウェアをソフトウェア上で実行できること。
*   **REQ-E-006**: GPIOの状態変化やUARTログ出力を、テストスクリプトから観測・検証できること。

### 3.4 CI/CDパイプライン機能
*   **REQ-E-007**: GitHub へのプッシュをトリガーとして、自動的にビルドとテストが実行されること。
*   **REQ-E-008**: ローカル環境とCI環境で、完全に同一のビルド・テストスクリプトが使用できること。

## 4. 非機能要件
### 4.1 互換性
*   **REQ-NE-001**: ホストOSとして macOS, Windows, Linux をサポートすること（Docker Desktop等のコンテナランタイム依存）。
*   **REQ-NE-002**: Apple Silicon (M1/M2) および Intel x86_64 アーキテクチャの両方で動作すること。

### 4.2 パフォーマンス
*   **REQ-NE-003**: コンテナのビルド時間は実用的な範囲（初回数分程度）に収まること。
*   **REQ-NE-004**: シミュレーションテストは、実時間に近い速度、またはそれ以上の速度で完了すること。
